<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Celeste Valdivia">
<meta name="dcterms.date" content="2023-09-25">

<title>Celeste Valdivia’s Open Lab Notebook - Botryllus schlosseri Epithelial Tissue Isolation Protocol</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/Valdivia.JPG" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/thumbnail.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Celeste Valdivia’s Open Lab Notebook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/valeste" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/celestevaldivia/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="malito:cvaldi@uw.edu" rel="" target=""><i class="bi bi-envelope-heart" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><em>Botryllus schlosseri</em> Epithelial Tissue Isolation Protocol</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">epithelial</div>
                <div class="quarto-category">protocol</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Celeste Valdivia </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 25, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#protocol" id="toc-protocol" class="nav-link active" data-scroll-target="#protocol">Protocol</a>
  <ul class="collapse">
  <li><a href="#materials" id="toc-materials" class="nav-link" data-scroll-target="#materials">Materials</a>
  <ul class="collapse">
  <li><a href="#equipment" id="toc-equipment" class="nav-link" data-scroll-target="#equipment">Equipment</a></li>
  <li><a href="#consumables" id="toc-consumables" class="nav-link" data-scroll-target="#consumables">Consumables</a></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions">Solutions</a></li>
  </ul></li>
  <li><a href="#cell-isolation-procedure" id="toc-cell-isolation-procedure" class="nav-link" data-scroll-target="#cell-isolation-procedure">Cell Isolation Procedure</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>This protocol is version 08.21.23</p>
<section id="protocol" class="level1">
<h1>Protocol</h1>
<section id="materials" class="level2">
<h2 class="anchored" data-anchor-id="materials">Materials</h2>
<section id="equipment" class="level3">
<h3 class="anchored" data-anchor-id="equipment">Equipment</h3>
<ul>
<li>Biosaftey cabinet</li>
<li>Nikon SMZ745T Stereoscopic Microscope with Excelis camera</li>
<li>Evos XL Core inverted microscope</li>
<li>Aspirator</li>
<li>Spray bottle</li>
<li>Two 15 cm diameter glass culture dish</li>
<li>Small shallow dish (size not important)</li>
<li>Curved forceps</li>
<li>Pipette wand</li>
<li>1000 mL waste beaker</li>
<li>1000 uL pipette</li>
<li>100 uL pipette</li>
</ul>
</section>
<section id="consumables" class="level3">
<h3 class="anchored" data-anchor-id="consumables">Consumables</h3>
<p>Solution preparation: - 0.22 um filter units - Penicillin-Streptomycin (100x stock) - Amphotericin-B (250 ug/mL stock) - Gentamicin (50 mg/mL stock) - 75 ppt filtered seawater (FSW) - Refractometer</p>
<p>During dissection: - BH Supplies Insulin Syringes U-100 28G 1ml/cc 5/16” (8mm) - 100 um cell strainers - 1.5 mL tubes (number dependent on how many samples) - 30% ethanol - Autoclaved 27 ppt artificial seawater (ASW)</p>
<p>During tissue seeding: - Corning 6 well plates or T25 culture flasks - 60 mm petri dishes - 50 mL, 10 mL, and 5 mL serological pipettes - 1000 uL pipette tips - 70% ethanol</p>
</section>
<section id="solutions" class="level3">
<h3 class="anchored" data-anchor-id="solutions">Solutions</h3>
<section id="concentrated-filtered-seawater" class="level4">
<h4 class="anchored" data-anchor-id="concentrated-filtered-seawater">Concentrated Filtered Seawater</h4>
<ol type="1">
<li></li>
</ol>
<p>Option A: Mix together the below two solutions:</p>
<ul>
<li>To 500 mL of MilliQ water
<ul>
<li>54.68 g NaCl</li>
<li>1.648 g KCl</li>
<li>2.884 g CaCl2·2H2O</li>
</ul></li>
<li>To 500 mL of MilliQ water
<ul>
<li>22.28 g MgSO4·7H2O</li>
<li>12.2 g MgCl2·6H2O</li>
</ul></li>
</ul>
<p>Option B: Formulate 500 mL of concentrated salt water (75 ppt) solution from <a href="https://www.kwikpets.com/products/red-sea-salt-bucket-55gal?currency=USD&amp;variant=31888159440965&amp;utm_medium=cpc&amp;utm_source=google&amp;utm_campaign=Google%20Shopping">Red Sea Salt</a>.</p>
<ul>
<li>Verify salinity using refractometer prior to filtering.</li>
</ul>
<ol start="2" type="1">
<li>Filter solution through 0.22 um filter unit.</li>
</ol>
</section>
<section id="artificial-seawater" class="level4">
<h4 class="anchored" data-anchor-id="artificial-seawater">Artificial Seawater</h4>
<p>36.6 grams (g) of Red Sea Salt per liter to make solution at ~30 ppt.</p>
<section id="artificial-seawater---0.05-gentamicin-asw-g" class="level5">
<h5 class="anchored" data-anchor-id="artificial-seawater---0.05-gentamicin-asw-g"><strong>Artificial Seawater - 0.05% Gentamicin (ASW-G)</strong></h5>
<p>This solution is essential for the isolation of tunicate individuals 24 hours prior to dissection and during dissections.</p>
<p>In the biosaftey cabinet add together the following:</p>
<ul>
<li>500 mL of artificial seawater (~850 mOsmo/kg)
<ul>
<li>Does not have to be autoclaved or filtered</li>
</ul></li>
<li>238.8 uL gentamicin (50 mg/mL stock)</li>
</ul>
</section>
<section id="artificial-seawater---1-penstrep-0.01-amp-b-asw-psa" class="level5">
<h5 class="anchored" data-anchor-id="artificial-seawater---1-penstrep-0.01-amp-b-asw-psa"><strong>Artificial Seawater - 1% Pen/Strep &amp; 0.01% Amp B (ASW-PSA)</strong></h5>
<p>This solution is used as the media in which the tunicate is submerged during dissection.</p>
<p>In the biosafety cabinet add together the following:</p>
<ul>
<li>494.5 mL filtered seawater (~850 mOsmo/kg)</li>
<li>500 uL Amphotericin B (250ug/mL stock solution)</li>
<li>5 mL of Penicillin-Streptomycin (100x)</li>
</ul>
</section>
<section id="tunicate-culture-medium-tcm-with-1.4-pen-strep-and-0.1-amp-b" class="level5">
<h5 class="anchored" data-anchor-id="tunicate-culture-medium-tcm-with-1.4-pen-strep-and-0.1-amp-b"><strong>Tunicate Culture Medium (TCM) with 1.4% Pen-Strep and 0.1% Amp B</strong></h5>
<p>In the biosafety cabinet add together:</p>
<ul>
<li>45.6 mL of L-15 media</li>
<li>21.7 mL of FSW (to adjust media milli-osmolality from ~300 mOsmo/kg to ~850 mOsmo/kg)</li>
<li>2.4 mL fetal bovine serum (FBS)</li>
<li>1 mL HEPES (20 mMol/L)</li>
<li>1 mL Pen/Strep (100x)</li>
<li>100 uL Amphotericin B (250 ug/mL)</li>
</ul>
</section>
</section>
</section>
</section>
<section id="cell-isolation-procedure" class="level2">
<h2 class="anchored" data-anchor-id="cell-isolation-procedure">Cell Isolation Procedure</h2>
<p>Be sure to have sufficient stocks of the above three solutions prior to following the below procedures.</p>
<section id="the-day-prior-to-bud-isolation" class="level5">
<h5 class="anchored" data-anchor-id="the-day-prior-to-bud-isolation">1. The day prior to bud isolation</h5>
<ul>
<li><p>Select an individual (one glass slide) with at least 30 zooids completely adhered to the slide. Health score must be 7 and above. Stage does not matter but document the day of dissection. Ideally it is either at stage C2 or D. If in earlier stages, will need to dissect parental zooid instead of primary bud.</p></li>
<li><p>Remove individuals from recirculating seawater system</p></li>
<li><p>Use a razor blade to clean the glass slide</p></li>
<li><p>Spray animal over sink with 70% ethanol for 5 seconds or until glass slide is completely coated with ethanol</p></li>
<li><p>Rinse animal with autocalved artificial seawater until no ethanol is visible.</p></li>
<li><p>Place animal in 15 cm glass petri dish containing 100 mL of ASW-G.</p></li>
<li><p>Parafilm and perforate petri dish.</p></li>
<li><p>Leave overnight for starvation on lab bench at room temperature.</p></li>
</ul>
</section>
<section id="tissue-dissection" class="level5">
<h5 class="anchored" data-anchor-id="tissue-dissection">2. Tissue Dissection</h5>
<ul>
<li><p>Remove colony from ASW-G.</p></li>
<li><p>Wash colony and substrate for 10 seconds with 30% ethanol.</p></li>
<li><p>Rinse colony with autoclaved artificial seawater</p></li>
<li><p>Immerse colony in 15 cm diameter, glass dish filled with ~60 mL of ASW-PSA. For each new colony microdissection, rinse the 15 mL glass plate with 70% ethanol in triplicate, followed by triplicate rinse of ASW-PSA prior to refilling plate with more ASW-PSA.</p></li>
<li><p>Under stereomicroscope on lab bench take picture of entire colony (all tissue to be dissected with Excelis camera.</p></li>
<li><p>Record blastogenic stage, zooid or primary bud number, and health score.</p></li>
<li><p>Using a pair of 28G syringe needles, peel open the tunic and remove zooids.</p></li>
<li><p>Every time a zooid is removed, place it in cell strainer that itself is also immersed in the same 20 mL of ASW-G. Use a clicker to keep track of the number of zooids/buds you collected.</p></li>
<li><p>Once you have collected a group of 10 zooids in the cell strainer, rinse all zooids for 5 seconds with 30% ethanol followed by a 5 second rinse with autoclaved artificial seawater.</p></li>
<li><p>Use same pair of insulin needles to transfer over the zooids to the 1.5 mL tube containing 1 mL of TCM. This can be done by placing the cell strainer in ASW-PSA under the stereomicroscope and carefully rolling the zooids onto one of the needles. Make sure not to burst them.</p></li>
<li><p>Transfer all tubes containing bud tissue to the biosaftey cabinet in TPS for cell seeding.</p></li>
</ul>
</section>
<section id="seeding-tissue-and-cell-maintenance" class="level5">
<h5 class="anchored" data-anchor-id="seeding-tissue-and-cell-maintenance">3. Seeding tissue and cell maintenance</h5>
<ul>
<li><p>In the biosaftey cabinet, use a 1000 uL pipette tip and aspirate into the solution to get the buds back into suspension and transfer to plastic 60 mm petri dish.</p></li>
<li><p>Using the same 1000 uL pipette tip transfer buds one at a time to a fresh culturing dish. Make sure to transfer only a small amount of liquid (about a drop) per bud.</p></li>
<li><p>Desiccate tissue slightly to ensure adherence to the substrate.</p></li>
<li><p>Add 0.5-1 mL of TCM to each well. Be sure to not touch the tip of the pipette to the wells and to have the lowest flow possible when adding in media to not agitate the tissue and have it unadhere from plate.</p></li>
<li><p>Incubate cells at 18 C, 91% humidity.</p></li>
<li><p>Replace 100% of the TCM every 2-3 days for plates and once a week for flasks.</p></li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This page is built using <a href="https://quarto.org/">Quarto</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>